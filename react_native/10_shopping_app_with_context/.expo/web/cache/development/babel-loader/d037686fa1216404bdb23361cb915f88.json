{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useReducer } from 'react';\nimport ActionContext from \"./ActionContext\";\nimport AppStateContext from \"./AppStateContext\";\nimport * as actionConstants from \"../types/actionConstants\";\nvar initialState = {\n  list: [],\n  isLogged: false,\n  token: \"\",\n  loading: false,\n  error: \"\"\n};\n\nvar listReducer = function listReducer(state, action) {\n  switch (action.type) {\n    case actionConstants.LOADING:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: \"\",\n        loading: true\n      });\n\n    case actionConstants.STOP_LOADING:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false\n      });\n\n    case actionConstants.REGISTER_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: \"\"\n      });\n\n    case actionConstants.REGISTER_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: action.error\n      });\n\n    case actionConstants.LOGIN_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLogged: true,\n        token: action.token\n      });\n\n    case actionConstants.LOGIN_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: action.error\n      });\n\n    case actionConstants.LOGOUT_SUCCESS:\n      return {\n        isLogged: false,\n        list: [],\n        token: \"\",\n        error: \"\",\n        loading: false\n      };\n\n    case actionConstants.LOGOUT_FAILED:\n      return {\n        isLogged: false,\n        list: [],\n        token: \"\",\n        error: action.error,\n        loading: false\n      };\n\n    case actionConstants.FETCH_LIST_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        list: action.list\n      });\n\n    case actionConstants.FETCH_LIST_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: action.error\n      });\n\n    case actionConstants.ADD_ITEM_SUCCESS:\n      return _objectSpread({}, state);\n\n    case actionConstants.ADD_ITEM_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: action.error\n      });\n\n    case actionConstants.REMOVE_ITEM_SUCCESS:\n      return _objectSpread({}, state);\n\n    case actionConstants.REMOVE_ITEM_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: action.error\n      });\n\n    case actionConstants.EDIT_ITEM_SUCCESS:\n      return _objectSpread({}, state);\n\n    case actionConstants.EDIT_ITEM_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        error: action.error\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar StateProvider = function StateProvider(props) {\n  var _useReducer = useReducer(listReducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  return React.createElement(AppStateContext.Provider, {\n    value: state\n  }, React.createElement(ActionContext.Provider, {\n    value: {\n      dispatch: dispatch\n    }\n  }, props.children));\n};\n\nexport default StateProvider;","map":{"version":3,"sources":["C:/gits/tampereoulufullstack2021/TampereOuluFullstack2021/react_native/10_shopping_app_with_context/context/StateProvider.js"],"names":["React","useReducer","ActionContext","AppStateContext","actionConstants","initialState","list","isLogged","token","loading","error","listReducer","state","action","type","LOADING","STOP_LOADING","REGISTER_SUCCESS","REGISTER_FAILED","LOGIN_SUCCESS","LOGIN_FAILED","LOGOUT_SUCCESS","LOGOUT_FAILED","FETCH_LIST_SUCCESS","FETCH_LIST_FAILED","ADD_ITEM_SUCCESS","ADD_ITEM_FAILED","REMOVE_ITEM_SUCCESS","REMOVE_ITEM_FAILED","EDIT_ITEM_SUCCESS","EDIT_ITEM_FAILED","StateProvider","props","dispatch","children"],"mappings":"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","sourcesContent":["import React,{useReducer} from 'react';\r\nimport ActionContext from './ActionContext';\r\nimport AppStateContext from './AppStateContext';\r\nimport * as actionConstants from '../types/actionConstants';\r\n\r\nconst initialState = {\r\n\tlist:[],\r\n\tisLogged:false,\r\n\ttoken:\"\",\r\n\tloading:false,\r\n\terror:\"\"\r\n}\r\n\r\nconst listReducer = (state,action) => {\r\n\tswitch(action.type) {\r\n\t\tcase actionConstants.LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror:\"\",\r\n\t\t\t\tloading:true\r\n\t\t\t}\r\n\t\tcase actionConstants.STOP_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading:false\r\n\t\t\t}\r\n\t\tcase actionConstants.REGISTER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror:\"\"\r\n\t\t\t}\r\n\t\tcase actionConstants.REGISTER_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror:action.error\r\n\t\t\t}\r\n\t\tcase actionConstants.LOGIN_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLogged:true,\r\n\t\t\t\ttoken:action.token\r\n\t\t\t}\r\n\t\tcase actionConstants.LOGIN_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror:action.error\r\n\t\t\t}\r\n\t\tcase actionConstants.LOGOUT_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tisLogged:false,\r\n\t\t\t\tlist:[],\r\n\t\t\t\ttoken:\"\",\r\n\t\t\t\terror:\"\",\r\n\t\t\t\tloading:false\r\n\t\t\t}\r\n\t\tcase actionConstants.LOGOUT_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\tisLogged:false,\r\n\t\t\t\tlist:[],\r\n\t\t\t\ttoken:\"\",\r\n\t\t\t\terror:action.error,\r\n\t\t\t\tloading:false\r\n\t\t\t}\r\n\t\tcase actionConstants.FETCH_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlist:action.list\r\n\t\t\t}\r\n\t\tcase actionConstants.FETCH_LIST_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror:action.error\r\n\t\t\t}\r\n\t\tcase actionConstants.ADD_ITEM_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t}\r\n\t\tcase actionConstants.ADD_ITEM_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror:action.error\r\n\t\t\t}\r\n\t\tcase actionConstants.REMOVE_ITEM_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t}\r\n\t\tcase actionConstants.REMOVE_ITEM_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror:action.error\r\n\t\t\t}\t\t\r\n\t\tcase actionConstants.EDIT_ITEM_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t}\r\n\t\tcase actionConstants.EDIT_ITEM_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror:action.error\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nconst StateProvider = (props) => {\r\n\t\r\n\tconst [state,dispatch] = useReducer(listReducer,initialState);\r\n\t\r\n\treturn (\r\n\t\t<AppStateContext.Provider value={state}>\r\n\t\t\t<ActionContext.Provider value={{dispatch:dispatch}}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</ActionContext.Provider>\r\n\t\t</AppStateContext.Provider>\r\n\t)\r\n}\r\n\r\nexport default StateProvider;"]},"metadata":{},"sourceType":"module"}